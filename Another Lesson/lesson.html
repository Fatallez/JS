<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson 2</title>
</head>
<body>
<div class="goods-list"></div>
<div class="total-price"></div>

<script>
    'use strict';

    class GoodsItem {
        constructor(title, price) {
            this.title = title;
            this.price = price;
        }
        render() {
            return `<div class="goods-item"><h3>${this.title}</h3><p>${this.price}</p></div>`;
        }
    }

    class GoodsList {
        constructor() {
            this.goods = [];
        }
        fetchGoods() {
            this.goods = [
                { title: 'Shirt', price: 150 },
                { title: 'Socks', price: 50 },
                { title: 'Jacket', price: 350 },
                { title: 'Shoes', price: 250 },
            ];
        }
        render() {
            let listHtml = '';
            this.goods.forEach(good => {
                const goodItem = new GoodsItem(good.title, good.price);
                listHtml += goodItem.render();
            });
            document.querySelector('.goods-list').innerHTML = listHtml;
        }

        countTotalPrice() {
            let totalPrice = 0;
            for (let i = 0; i < this.goods.length; i++) {
                totalPrice += this.goods[i].price;
            }
            document.querySelector('.total-price').innerHTML = `<h3>Итого: ${totalPrice}</h3>`;
        }
    }

    const list = new GoodsList();
    list.fetchGoods();
    list.render();
    list.countTotalPrice();
</script>
</body>
</html>